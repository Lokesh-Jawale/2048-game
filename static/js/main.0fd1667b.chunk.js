(this["webpackJsonp2048-game"]=this["webpackJsonp2048-game"]||[]).push([[0],{25:function(e,t,r){},26:function(e,t,r){},27:function(e,t,r){},28:function(e,t,r){},34:function(e,t,r){},37:function(e,t,r){},41:function(e,t,r){"use strict";r.r(t);var c=r(0),o=r.n(c),n=r(11),a=r.n(n),s=(r(25),r(26),r(15)),i=r(2),l=(r(27),r(8)),j=(r(28),r(3)),u=r(12),d=Object(u.b)({name:"gameStates",initialState:{boardSize:4,highScore:0,matrix:[],gameover:!1,score:0},reducers:{saveBoardSize:function(e,t){e.boardSize=t.payload},saveMatrix:function(e,t){e.matrix=t.payload},setGameover:function(e,t){e.gameover=t.payload},saveScore:function(e,t){e.score+=t.payload,e.score>e.highScore&&(e.highScore=e.score,localStorage.setItem("game-highscore",JSON.stringify(e.highScore)))},saveHighScore:function(e,t){e.highScore=t.payload}}}),b=d.actions,m=b.saveBoardSize,h=b.saveHighScore,f=b.saveMatrix,v=b.setGameover,O=b.saveScore,g=function(e){return e.gameStates.boardSize},p=function(e){return e.gameStates.matrix},x=function(e){return e.gameStates.highScore},S=function(e){return e.gameStates.gameover},w=function(e){return e.gameStates.score},N=d.reducer,y=(r(34),r(1));var G=function(e){var t=e.cellValue;return Object(y.jsx)("div",{className:"cell",children:Object(y.jsx)("div",{className:t?"content":"content contentNull",children:t||" "})})},k=r(10),E=r.n(k);r(37);var A=function(){var e=Object(j.b)();return Object(j.c)(S),Object(j.c)(g),Object(y.jsxs)("div",{className:"gameover",children:[Object(y.jsx)("h2",{children:"GAME OVER"}),Object(y.jsx)("button",{onClick:function(t){t.preventDefault(),e(v(!1)),e(m(3))},children:"Play Again"})]})};var z=function(){var e=Object(j.b)(),t=Object(j.c)(g),r=(Object(j.c)(x),Object(j.c)(p),Object(j.c)(S)),o=Object(c.useState)("80px 80px 80px 80px"),n=Object(l.a)(o,2),a=n[0],s=n[1],i=Object(c.useState)("50px"),u=Object(l.a)(i,2),d=u[0],b=u[1],m=Object(c.useState)(),h=Object(l.a)(m,2),w=h[0],N=h[1],k=Object(c.useState)(0),z=Object(l.a)(k,2),T=(z[0],z[1],Object(c.useState)([[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]])),M=Object(l.a)(T,2),P=M[0],B=M[1];Object(c.useEffect)((function(){return e(O(0)),window.addEventListener("keydown",Z),function(){window.removeEventListener("keydown",Z)}}),[]),Object(c.useEffect)((function(){e(O(0)),H()}),[t]),Object(c.useEffect)((function(){switch(w){case"ArrowLeft":R("LEFT");break;case"ArrowRight":R("RIGHT");break;case"ArrowUp":R("UP");break;case"ArrowDown":R("DOWN")}N("")}),[w]);var D=function(r){for(var c=-1,o=-1,n=100,a=E()(r);n--;)if(c=Math.floor(Math.random()*t),o=Math.floor(Math.random()*t),0===a[c][o])return a[c][o]=2,a;return e(v(!0)),!1},H=function(){var r="repeat("+t+", "+85/t+"%)",c=String(210/t)+"px";s(r),b(c);for(var o=[],n=0;n<t;n++){for(var a=[],i=0;i<t;i++)a.push(0);o.push(a)}o=D(o),o=D(o),B(o),e(f(o))},I=function(r,c,o,n,a,s){var i=E()(r);return n>=0&&n<t&&i[c][o]===i[c][n]&&n!==o?(console.log("Number merged row",c," pos from ",o," to ",n),i[c][n]*=2,i[c][o]=0,e(O(i[c][n]))):i[c][o]&&(n=o),!i[c][o]&&(a<0||a>=t)&&(a=o),a>=0&&a<t&&i[c][o]&&a!==o&&(i[c][a]=i[c][o],i[c][o]=0,n=a,a+=s,console.log("Number swapped row",c," pos from ",o," to ",a)),console.log(c," ",o," ",n," ",a),{newGrid:i,posN:n,posZ:a}},L=function(r,c,o,n,a,s){var i=E()(r);return n>=0&&n<t&&i[c][o]===i[n][o]&&n!==c?(console.log("Number merged column ",o," pos from ",c," to ",n),i[n][o]*=2,i[c][o]=0,e(O(i[n][o]))):i[c][o]&&(n=c),!i[c][o]&&(a<0||a>=t)&&(a=c),a>=0&&a<t&&i[c][o]&&a!==c&&(i[a][o]=i[c][o],i[c][o]=0,n=a,a+=s,console.log("Number swapped column ",o," pos from ",c," to ",a)),console.log(c," ",o," ",n," ",a),{newGrid:i,posN:n,posZ:a}},R=function(r){var c=E()(P);console.table(c);try{for(var o=0;o<t;o++){var n=-1,a=-1;if("RIGHT"===r)for(var s=t-1;s>=0;s--){var i=I(c,o,s,n,a,-1);c=i.newGrid,n=i.posN,a=i.posZ}else if("LEFT"===r)for(var l=0;l<t;l++){var j=I(c,o,l,n,a,1);c=j.newGrid,n=j.posN,a=j.posZ}else if("UP"===r)for(var u=0;u<t;u++){var d=L(c,u,o,n,a,1);c=d.newGrid,n=d.posN,a=d.posZ}else if("DOWN"===r)for(var b=t-1;b>=0;b--){var m=L(c,b,o,n,a,-1);c=m.newGrid,n=m.posN,a=m.posZ}}if(console.table(c),!1===(c=D(c)))return;console.table(c),e(f(c)),B(c)}catch(h){console.log(h)}},Z=function(e){e.preventDefault(),N(e.key),console.log(e.key)},W={gridTemplateRows:a,gridTemplateColumns:a,fontSize:d};return Object(y.jsx)("div",{className:"gameBoard",children:r?Object(y.jsx)(A,{}):Object(y.jsx)("div",{className:"grid-container",style:W,children:null===P||void 0===P?void 0:P.map((function(e){return null===e||void 0===e?void 0:e.map((function(e,t){return Object(y.jsx)(G,{cellValue:e},t)}))}))})})};var T=function(){var e=Object(j.b)(),t=Object(j.c)(g),r=Object(j.c)(x),o=Object(j.c)(w);return Object(c.useEffect)((function(){var t=Number(JSON.parse(localStorage.getItem("game-highscore")));e(h(t))}),[]),Object(y.jsxs)("div",{className:"home",children:[Object(y.jsx)("div",{className:"header",children:Object(y.jsx)("h1",{children:"2048 Game"})}),Object(y.jsxs)("div",{className:"home__scoreBoard",children:[Object(y.jsxs)("h3",{children:["HighScore : ",Object(y.jsx)("span",{children:r})]}),Object(y.jsxs)("h3",{className:"newScore",children:["NewScore : ",Object(y.jsx)("span",{children:o})]})]}),Object(y.jsxs)("form",{className:"home__container",children:[Object(y.jsx)("label",{forhtml:"matrixSize",children:"Select Board Size"}),Object(y.jsx)("input",{name:"matrixSize",type:"number",max:"10",min:"3",value:t,onChange:function(t){t.preventDefault(),e(m(t.target.value))}})]}),Object(y.jsx)(z,{}),Object(y.jsxs)("div",{className:"helptext",children:[Object(y.jsx)("h2",{children:"How to play the Game?"})," ",Object(y.jsx)("br",{}),Object(y.jsxs)("ul",{children:[Object(y.jsx)("li",{children:'Press "Arrow UP" to move/merge all numbers upwards'}),Object(y.jsx)("li",{children:'Press "Arrow DOWN" to move/merge all numbers downwards'}),Object(y.jsx)("li",{children:'Press "Arrow LEFT" to move/merge all numbers to left side'}),Object(y.jsx)("li",{children:'Press "Arrow RIGHT" to move/merge all numbers to right side'})]}),Object(y.jsx)("h1",{children:"Thank you for playing!"})]})]})};var M=function(){return Object(y.jsx)(s.a,{children:Object(y.jsx)("div",{className:"App",children:Object(y.jsx)(i.c,{children:Object(y.jsx)(i.a,{exact:!0,path:"/",children:Object(y.jsx)(T,{})})})})})},P=Object(u.a)({reducer:{gameStates:N}});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a.a.render(Object(y.jsx)(o.a.StrictMode,{children:Object(y.jsx)(j.a,{store:P,children:Object(y.jsx)(M,{})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[41,1,2]]]);
//# sourceMappingURL=main.0fd1667b.chunk.js.map